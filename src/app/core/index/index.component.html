<!-- Loading Screen -->
<div *ngIf="!isLoaded" class="fixed inset-0 z-50 flex items-center justify-center bg-black">
  <div class="text-center">
    <div class="w-16 h-16 border-t-4 border-teal-400 border-solid rounded-full animate-spin mb-4"></div>
    <p class="text-teal-400 text-lg animate-pulse">Loading...</p>
  </div>
</div>

<!-- Content -->
<div
  [class.opacity-0]="!isLoaded"
  [class.opacity-100]="isLoaded"
  class="min-h-screen text-white relative overflow-x-hidden flex flex-col cursor-none font-space-grotesk transition-opacity duration-700 delay-300"
>
  <!-- Background Elements -->
  <div class="fixed inset-0 -z-30 opacity-0 transition-opacity duration-1000 delay-500"
       [class.opacity-100]="isLoaded">
    <div class="absolute inset-0 bg-gradient-to-br from-[#0a192f] via-[#0a192f] to-[#112240] opacity-95"></div>
    <div
      class="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:50px_50px] scale-75 opacity-0 transition-all duration-1000 delay-700"
      [class.opacity-100]="isLoaded"
      [class.scale-100]="isLoaded"
    ></div>
    <div
      class="absolute top-1/4 left-1/4 w-[35vw] h-[35vw] rounded-full bg-blue-500/10 blur-[150px] animate-pulse [animation-duration:5s] scale-75 opacity-0 transition-all duration-1000 delay-1000"
      [class.opacity-100]="isLoaded"
      [class.scale-100]="isLoaded"
    ></div>
    <div
      class="absolute bottom-1/4 right-1/4 w-[30vw] h-[30vw] rounded-full bg-purple-500/10 blur-[150px] animate-pulse [animation-duration:6s] [animation-delay:1000ms] scale-75 opacity-0 transition-all duration-1000 delay-1200"
      [class.opacity-100]="isLoaded"
      [class.scale-100]="isLoaded"
    ></div>
    <div
      class="absolute top-1/2 right-1/3 w-[25vw] h-[25vw] rounded-full bg-teal-500/10 blur-[150px] animate-pulse [animation-duration:7s] [animation-delay:2000ms] scale-75 opacity-0 transition-all duration-1000 delay-1400"
      [class.opacity-100]="isLoaded"
      [class.scale-100]="isLoaded"
    ></div>
    <div class="particles-container absolute inset-0" #particlesContainer></div>
  </div>

  <!-- Noise Overlay -->
  <div class="fixed inset-0 -z-20 opacity-[0.05] mix-blend-soft-light">
    <div
      class="absolute inset-0"
      style="
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIHR5cGU9ImZyYWN0YWxOb2lzZSIgYmFzZUZyZXF1ZW5jeT0iLjc1IiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIzMDAiIGZpbHRlcj0idXJsKCNhKSIgb3BhY2l0eT0iMC4xNSIvPjwvc3ZnPg==');
      "
    ></div>
  </div>

  <!-- Cursor Elements -->
  <div class="fixed pointer-events-none z-50" #cursor>
    <div class="relative">
      <div class="absolute w-6 h-6 bg-white rounded-full blur-md"></div>
      <div class="w-4 h-4 bg-white rounded-full"></div>
    </div>
  </div>

  <div class="fixed pointer-events-none z-40" #trail>
    <div
      class="w-12 h-12 bg-white/40 rounded-full blur-2xl transform transition-transform duration-500"
    ></div>
  </div>

  <!-- Glow Effects -->
  <div class="fixed inset-0 -z-10">
    <div
      class="absolute h-[30vh] aspect-square bg-gradient-to-r from-purple-500/30 via-blue-500/30 to-teal-500/30 rounded-full filter blur-[40px] transition-all duration-1000 ease-out"
      #glow
    ></div>
    <div
      class="absolute h-[25vh] aspect-square bg-gradient-to-r from-purple-400/40 via-blue-400/40 to-teal-400/40 rounded-full filter blur-[30px] transition-all duration-700 ease-out"
      #secondaryGlow
    ></div>
    <div
      class="absolute h-[20vh] aspect-square bg-gradient-to-r from-purple-300/50 via-blue-300/50 to-teal-300/50 rounded-full filter blur-[20px] transition-all duration-500 ease-out"
      #coreGlow
    ></div>
  </div>

  <!-- Navigation -->
  <nav class="p-4 sm:p-6 lg:p-8">
    <div class="max-w-7xl mx-auto flex flex-col items-center space-y-4 sm:space-y-6">
      <div class="relative flex items-center">
        <span class="text-2xl sm:text-3xl font-bold mr-2 sm:mr-3 cursor-none">&#123;</span>
        <div class="flex flex-col items-center leading-none">
          <span class="text-xl sm:text-2xl font-bold mb-1">ALEX</span>
          <span class="text-xl sm:text-2xl font-bold">KARIUKI</span>
        </div>
        <span class="text-2xl sm:text-3xl font-bold ml-2 sm:ml-3">&#125;</span>
      </div>
      <div class="flex space-x-6 sm:space-x-8">
        <a
          href="#projects"
          class="text-sm sm:text-base text-white hover:text-gray-300 transition-colors hover:scale-110 transform duration-200"
          >Projects</a
        >
        <a
          href="#blog"
          class="text-sm sm:text-base text-white hover:text-gray-300 transition-colors hover:scale-110 transform duration-200"
          >Blog</a
        >
        <a
          href="#contact"
          class="text-sm sm:text-base text-white hover:text-gray-300 transition-colors hover:scale-110 transform duration-200"
          >Contact</a
        >
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div
    class="flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center justify-center min-h-screen pb-8 pt-32"
    [class.translate-y-4]="!isLoaded"
    [class.translate-y-0]="isLoaded"
    class="transition-transform duration-1000 ease-out"
  >
    <h1 class="text-4xl sm:text-5xl md:text-7xl font-light text-center mb-16 tracking-wide leading-tight font-['Outfit'] mt-24 max-w-3xl mx-auto">
      Building an
      <span
        class="text-teal-400 inline-block transform hover:scale-105 transition-transform duration-300"
        >amazing future</span
      >
      <br />
      <span class="text-white/90">in technology</span>
    </h1>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mt-8 max-w-2xl mx-auto">
      <div class="transform hover:scale-105 transition-all duration-300 group">
        <div class="text-center p-3">
          <span
            class="text-lg sm:text-xl text-teal-400 group-hover:text-teal-300 transition-colors font-light"
            >Web</span
          >
          <p class="mt-2 text-gray-400 text-xs sm:text-sm font-light">
            Full-stack web development
          </p>
        </div>
      </div>

      <div class="transform hover:scale-105 transition-all duration-300 group">
        <div class="text-center p-3">
          <span
            class="text-lg sm:text-xl text-teal-400 group-hover:text-teal-300 transition-colors font-light"
            >Mobile</span
          >
          <p class="mt-2 text-gray-400 text-xs sm:text-sm font-light">
            Cross-platform mobile apps
          </p>
        </div>
      </div>

      <div class="transform hover:scale-105 transition-all duration-300 group">
        <div class="text-center p-3">
          <span
            class="text-lg sm:text-xl text-teal-400 group-hover:text-teal-300 transition-colors font-light"
            >Web3</span
          >
          <p class="mt-2 text-gray-400 text-xs sm:text-sm font-light">
            Blockchain & dApps
          </p>
        </div>
      </div>

      <div class="transform hover:scale-105 transition-all duration-300 group">
        <div class="text-center p-3">
          <span
            class="text-lg sm:text-xl text-teal-400 group-hover:text-teal-300 transition-colors font-light"
            >Backend</span
          >
          <p class="mt-2 text-gray-400 text-xs sm:text-sm font-light">
            Scalable solutions
          </p>
        </div>
      </div>
    </div>

    <div class="mt-12 text-center">
      <button
        type="button"
        class="px-6 sm:px-8 py-2.5 sm:py-3 bg-teal-500 text-white font-light rounded-full hover:bg-teal-400 transform hover:translate-y-[-2px] transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 focus:ring-offset-black text-base sm:text-lg tracking-wide"
        [routerLink]="['/projects']"
      >
        View Projects
      </button>
    </div>

    <!-- Technology Marquee -->
    <div class="mt-16 relative overflow-hidden py-6 sm:py-8 w-full max-w-5xl mx-auto">
      <div class="flex w-[200%] animate-marquee">
        <!-- First set of logos -->
        <div class="flex space-x-16 items-center px-8">
          <!-- Web Technologies -->
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg" alt="React" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/angularjs/angularjs-original.svg" alt="Angular" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vuejs/vuejs-original.svg" alt="Vue.js" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/typescript/typescript-original.svg" alt="TypeScript" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-20">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/tailwindcss/tailwindcss-original-wordmark.svg" alt="Tailwind CSS" class="h-12 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          
          <!-- Mobile Technologies -->
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flutter/flutter-original.svg" alt="Flutter" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/android/android-original.svg" alt="Android" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kotlin/kotlin-original.svg" alt="Kotlin" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/swift/swift-original.svg" alt="Swift" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          
          <!-- Backend Technologies -->
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg" alt="Node.js" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" alt="Python" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/go/go-original.svg" alt="Go" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/java/java-original.svg" alt="Java" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          
          <!-- Web3 & Cloud Technologies -->
          <div class="flex items-center justify-center w-16 bg-white/5 rounded-lg p-2">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/solidity/solidity-original.svg" alt="Ethereum/Solidity" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-125 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/amazonwebservices/amazonwebservices-original-wordmark.svg" alt="AWS" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg" alt="Docker" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kubernetes/kubernetes-plain.svg" alt="Kubernetes" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
        </div>

        <!-- Second set of logos (exact duplicate for seamless loop) -->
        <div class="flex space-x-16 items-center px-8">
          <!-- Web Technologies -->
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg" alt="React" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/angularjs/angularjs-original.svg" alt="Angular" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vuejs/vuejs-original.svg" alt="Vue.js" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/typescript/typescript-original.svg" alt="TypeScript" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-20">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/tailwindcss/tailwindcss-original-wordmark.svg" alt="Tailwind CSS" class="h-12 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          
          <!-- Mobile Technologies -->
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flutter/flutter-original.svg" alt="Flutter" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/android/android-original.svg" alt="Android" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kotlin/kotlin-original.svg" alt="Kotlin" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/swift/swift-original.svg" alt="Swift" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          
          <!-- Backend Technologies -->
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg" alt="Node.js" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" alt="Python" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/go/go-original.svg" alt="Go" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/java/java-original.svg" alt="Java" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          
          <!-- Web3 & Cloud Technologies -->
          <div class="flex items-center justify-center w-16 bg-white/5 rounded-lg p-2">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/solidity/solidity-original.svg" alt="Ethereum/Solidity" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-125 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/amazonwebservices/amazonwebservices-original-wordmark.svg" alt="AWS" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg" alt="Docker" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
          <div class="flex items-center justify-center w-16">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/kubernetes/kubernetes-plain.svg" alt="Kubernetes" class="h-10 w-auto filter grayscale hover:grayscale-0 hover:brightness-110 transition-all duration-300" />
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Tawk.to Chat Button -->
  <div class="fixed bottom-4 sm:bottom-6 right-4 sm:right-6 z-50">
    <button
      type="button"
      (click)="openTawkChat()"
      class="relative bg-gradient-to-br from-gray-900 to-gray-800 p-4 rounded-full border-2 border-gray-700 hover:border-teal-400 transform hover:scale-110 transition-all duration-300 focus:outline-none hover:shadow-[0_0_2rem_rgba(20,184,166,0.3)] overflow-hidden"
      aria-label="Chat with us"
    >
      <div class="relative w-6 h-6">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="w-6 h-6 text-white transform hover:scale-110 transition-transform duration-300"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
        </svg>
        <div
          class="absolute -inset-1 bg-teal-500/20 rounded-full animate-pulse"
        ></div>
      </div>
    </button>
  </div>
</div>

<style>
  @keyframes steam {
    0% {
      transform: translateY(0) scale(1);
      opacity: 0.5;
    }
    50% {
      transform: translateY(-10px) scale(1.2);
      opacity: 0.2;
    }
    100% {
      transform: translateY(-20px) scale(1.4);
      opacity: 0;
    }
  }

  .animate-steam-1 {
    animation: steam 2s infinite ease-out;
  }

  .animate-steam-2 {
    animation: steam 2s infinite ease-out;
    animation-delay: 0.3s;
  }

  .animate-steam-3 {
    animation: steam 2s infinite ease-out;
    animation-delay: 0.6s;
  }

  .animate-steam {
    animation: hover 3s ease infinite;
  }

  @keyframes hover {
    0% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-3px);
    }
    100% {
      transform: translateY(0);
    }
  }

  /* Chat window animations */
  @keyframes slideIn {
    from {
      transform: translateY(10px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  .chat-message {
    animation: slideIn 0.3s ease-out;
  }

  .group.active .chat-window {
    transform: scale(100%);
    opacity: 1;
    pointer-events: auto;
  }

  /* Updated Marquee Animation for infinite loop */
  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .animate-marquee {
    animation: marquee 50s linear infinite;
  }

  /* Pause animation on hover */
  .animate-marquee:hover {
    animation-play-state: paused;
  }

  /* Import Space Grotesk font */
  @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@200;300;400;500;600&display=swap');

  /* Add font-family definition */
  .font-space-grotesk {
    font-family: 'Space Grotesk', sans-serif;
  }

  /* Add these new animation styles */
  .fade-up {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .fade-up.show {
    opacity: 1;
    transform: translateY(0);
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .content-animate {
    animation: fadeIn 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    animation-delay: calc(var(--delay) * 100ms);
  }
</style>
