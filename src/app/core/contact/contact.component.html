<!-- Loading Screen -->
<div *ngIf="!isLoaded" class="fixed inset-0 z-50 flex items-center justify-center bg-black">
  <div class="text-center">
    <div class="w-16 h-16 border-t-4 border-teal-400 border-solid rounded-full animate-spin mb-4"></div>
    <p class="text-teal-400 text-lg animate-pulse">Loading...</p>
  </div>
</div>

<!-- Content -->
<div
  [class.opacity-0]="!isLoaded"
  [class.opacity-100]="isLoaded"
  class="min-h-screen text-white relative overflow-x-hidden flex flex-col cursor-none font-space-grotesk transition-opacity duration-700 delay-300"
>
  <!-- Background Elements -->
  <div class="fixed inset-0 -z-30 opacity-0 transition-opacity duration-1000 delay-500"
       [class.opacity-100]="isLoaded">
    <div class="absolute inset-0 bg-gradient-to-br from-[#0a192f] via-[#0a192f] to-[#112240] opacity-95"></div>
    <div
      class="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:50px_50px] scale-75 opacity-0 transition-all duration-1000 delay-700"
      [class.opacity-100]="isLoaded"
      [class.scale-100]="isLoaded"
    ></div>
    <div
      class="absolute top-1/4 left-1/4 w-[35vw] h-[35vw] rounded-full bg-blue-500/10 blur-[150px] animate-pulse [animation-duration:5s] scale-75 opacity-0 transition-all duration-1000 delay-1000"
      [class.opacity-100]="isLoaded"
      [class.scale-100]="isLoaded"
    ></div>
    <div
      class="absolute bottom-1/4 right-1/4 w-[30vw] h-[30vw] rounded-full bg-purple-500/10 blur-[150px] animate-pulse [animation-duration:6s] [animation-delay:1000ms] scale-75 opacity-0 transition-all duration-1000 delay-1200"
      [class.opacity-100]="isLoaded"
      [class.scale-100]="isLoaded"
    ></div>
    <div
      class="absolute top-1/2 right-1/3 w-[25vw] h-[25vw] rounded-full bg-teal-500/10 blur-[150px] animate-pulse [animation-duration:7s] [animation-delay:2000ms] scale-75 opacity-0 transition-all duration-1000 delay-1400"
      [class.opacity-100]="isLoaded"
      [class.scale-100]="isLoaded"
    ></div>
    <div class="particles-container absolute inset-0" #particlesContainer></div>
  </div>

  <!-- Noise Overlay -->
  <div class="fixed inset-0 -z-20 opacity-[0.05] mix-blend-soft-light">
    <div
      class="absolute inset-0"
      style="
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIHR5cGU9ImZyYWN0YWxOb2lzZSIgYmFzZUZyZXF1ZW5jeT0iLjc1IiBzdGl0Y2hUaWxlcz0ic3RpdGNoIi8+PC9maWx0ZXI+PHJlY3Qgd2lkdGg9IjMwMCIgaGVpZ2h0PSIzMDAiIGZpbHRlcj0idXJsKCNhKSIgb3BhY2l0eT0iMC4xNSIvPjwvc3ZnPg==');
      "
    ></div>
  </div>

  <!-- Cursor Elements -->
  <div class="fixed pointer-events-none z-50" #cursor>
    <div class="relative">
      <div class="absolute w-6 h-6 bg-white rounded-full blur-md"></div>
      <div class="w-4 h-4 bg-white rounded-full"></div>
    </div>
  </div>

  <div class="fixed pointer-events-none z-40" #trail>
    <div
      class="w-12 h-12 bg-white/40 rounded-full blur-2xl transform transition-transform duration-500"
    ></div>
  </div>

  <!-- Glow Effects -->
  <div class="fixed inset-0 -z-10">
    <div
      class="absolute h-[30vh] aspect-square bg-gradient-to-r from-purple-500/30 via-blue-500/30 to-teal-500/30 rounded-full filter blur-[40px] transition-all duration-1000 ease-out"
      #glow
    ></div>
    <div
      class="absolute h-[25vh] aspect-square bg-gradient-to-r from-purple-400/40 via-blue-400/40 to-teal-400/40 rounded-full filter blur-[30px] transition-all duration-700 ease-out"
      #secondaryGlow
    ></div>
    <div
      class="absolute h-[20vh] aspect-square bg-gradient-to-r from-purple-300/50 via-blue-300/50 to-teal-300/50 rounded-full filter blur-[20px] transition-all duration-500 ease-out"
      #coreGlow
    ></div>
  </div>

  <!-- Navigation -->
  <nav class="p-4 sm:p-6 lg:p-8">
    <div class="max-w-7xl mx-auto flex flex-col items-center space-y-4 sm:space-y-6">
      <a routerLink="/" class="relative flex items-center hover:opacity-80 transition-opacity duration-300">
        <span class="text-2xl sm:text-3xl font-bold mr-2 sm:mr-3">&#123;</span>
        <div class="flex flex-col items-center leading-none">
          <span class="text-xl sm:text-2xl font-bold mb-1">ALEX</span>
          <span class="text-xl sm:text-2xl font-bold">KARIUKI</span>
        </div>
        <span class="text-2xl sm:text-3xl font-bold ml-2 sm:ml-3">&#125;</span>
      </a>
      <div class="flex space-x-6 sm:space-x-8">
        <a
          routerLink="/projects"
          class="text-sm sm:text-base text-white hover:text-gray-300 transition-colors hover:scale-110 transform duration-200"
          >Projects</a
        >
        <a
          href="https://medium.com/@alex1kariuki"
          target="_blank"
          rel="noopener noreferrer"
          class="text-sm sm:text-base text-white hover:text-gray-300 transition-colors hover:scale-110 transform duration-200"
          >Blog</a
        >
        <a
          routerLink="/contact"
          class="text-sm sm:text-base text-teal-400 hover:text-teal-300 transition-colors hover:scale-110 transform duration-200"
          >Contact</a
        >
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div
    class="flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center py-16"
    [class.translate-y-4]="!isLoaded"
    [class.translate-y-0]="isLoaded"
    class="transition-transform duration-1000 ease-out"
  >
    <h1 class="text-3xl sm:text-4xl md:text-5xl font-light text-center mb-8 tracking-wide leading-tight font-['Outfit'] reveal-text">
      Let's <span class="text-teal-400 inline-block">collaborate</span> on your next project
    </h1>
    
    <p class="text-gray-300 text-center max-w-2xl mb-12 text-base sm:text-lg">
      Fill out the form below with your project details, and I'll get back to you as soon as possible. I'm excited to hear about what you're working on!
    </p>
    
    <!-- Success Message -->
    <div *ngIf="submitMessage" class="w-full max-w-md mb-8 py-4 px-6 bg-teal-500/20 text-teal-300 rounded-lg animate-fade-in">
      {{ submitMessage }}
    </div>
    
    <!-- Contact Form -->
    <div class="w-full max-w-md bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 sm:p-8 shadow-xl transform hover:shadow-teal-500/5 transition-all duration-300">
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-6">
        
        <!-- Name Field -->
        <div class="space-y-2">
          <label for="name" class="block text-gray-300 text-sm font-medium">Name</label>
          <input 
            type="text" 
            id="name" 
            formControlName="name"
            class="w-full bg-gray-800/50 border border-gray-700 focus:border-teal-500 text-white rounded-lg p-3 transition-colors duration-300 focus:outline-none focus:ring-1 focus:ring-teal-500"
            [ngClass]="{'border-red-500': formSubmitted && nameControl?.errors}"
          >
          <div *ngIf="formSubmitted && nameControl?.errors" class="text-red-400 text-xs mt-1">
            <span *ngIf="nameControl?.errors?.['required']">Name is required</span>
            <span *ngIf="nameControl?.errors?.['minlength']">Name must be at least 2 characters</span>
          </div>
        </div>
        
        <!-- Email Field -->
        <div class="space-y-2">
          <label for="email" class="block text-gray-300 text-sm font-medium">Email</label>
          <input 
            type="email" 
            id="email" 
            formControlName="email"
            class="w-full bg-gray-800/50 border border-gray-700 focus:border-teal-500 text-white rounded-lg p-3 transition-colors duration-300 focus:outline-none focus:ring-1 focus:ring-teal-500"
            [ngClass]="{'border-red-500': formSubmitted && emailControl?.errors}"
          >
          <div *ngIf="formSubmitted && emailControl?.errors" class="text-red-400 text-xs mt-1">
            <span *ngIf="emailControl?.errors?.['required']">Email is required</span>
            <span *ngIf="emailControl?.errors?.['email']">Please enter a valid email address</span>
          </div>
        </div>
        
        <!-- Project Details Field -->
        <div class="space-y-2">
          <label for="project" class="block text-gray-300 text-sm font-medium">Project Details</label>
          <textarea 
            id="project" 
            formControlName="project"
            rows="5"
            class="w-full bg-gray-800/50 border border-gray-700 focus:border-teal-500 text-white rounded-lg p-3 transition-colors duration-300 focus:outline-none focus:ring-1 focus:ring-teal-500"
            [ngClass]="{'border-red-500': formSubmitted && projectControl?.errors}"
          ></textarea>
          <div *ngIf="formSubmitted && projectControl?.errors" class="text-red-400 text-xs mt-1">
            <span *ngIf="projectControl?.errors?.['required']">Project details are required</span>
            <span *ngIf="projectControl?.errors?.['minlength']">Please provide at least 10 characters of details</span>
          </div>
        </div>
        
        <!-- Submit Button -->
        <button 
          type="submit" 
          class="w-full px-6 py-3 bg-teal-500 text-white font-light rounded-lg hover:bg-teal-400 transform hover:translate-y-[-2px] transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 focus:ring-offset-gray-900"
        >
          Send Message
        </button>
      </form>
    </div>
    
    <!-- Contact Details -->
    <div class="mt-16 text-center">
      <h2 class="text-xl font-light mb-4 text-teal-400">Or reach out directly</h2>
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8">
        <a href="mailto:alex@kariuki.dev" class="flex items-center space-x-2 text-gray-300 hover:text-teal-300 transition-colors duration-300">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
          <span>alex&#64;kariuki.dev</span>
        </a>
        <a href="https://linkedin.com/in/alex1kariuki" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-2 text-gray-300 hover:text-teal-300 transition-colors duration-300">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
          </svg>
          <span>LinkedIn</span>
        </a>
        <a href="https://github.com/alex1kariuki" target="_blank" rel="noopener noreferrer" class="flex items-center space-x-2 text-gray-300 hover:text-teal-300 transition-colors duration-300">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
          <span>GitHub</span>
        </a>
      </div>
    </div>
  </div>
</div>

<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px) scale(0.98);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.7s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  .reveal-text {
    position: relative;
    display: inline-block;
    overflow: hidden;
    padding: 0 8px;
  }

  .reveal-text::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, rgba(45, 212, 191, 0.3), rgba(56, 189, 248, 0.3));
    animation: text-reveal 1.5s cubic-bezier(0.77, 0, 0.175, 1) forwards;
  }

  @keyframes text-reveal {
    0% {
      width: 100%;
      left: 0;
    }
    50% {
      width: 100%;
      left: 0;
    }
    100% {
      width: 0;
      left: 100%;
    }
  }

  /* Import Space Grotesk font */
  @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@200;300;400;500;600&display=swap');

  /* Add font-family definition */
  .font-space-grotesk {
    font-family: 'Space Grotesk', sans-serif;
  }
</style> 